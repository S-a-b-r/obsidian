05.06.2024 23:45
Tags: #info

---
# Указатели

Указатели хранят ячейку в памяти, где хранится переменная
```go
a := 1
p := &a //указатель на a
b := &p //Указатель на переменную, где хранится указатель a

*p = 3; //a = 3
**b = 5 //a = 5

```

## Когда стоит использовать указатели
- Очевидное - когда нужно изменить значение переменной из вызываемой функции
```go
  incrementCopy := func(i int) {
      i++
  }

  increment := func(i *int) {
      (*i)++
  }

  i := 42

  incrementCopy(i)
  fmt.Println(i) // 42

  increment(&i)
  fmt.Println(i) // 43
  
```

- Когда нужно подчеркнуть, что значение может отсутствовать. Например, есть функция поиска пользователя по ID. Результат-указатель дает понять, но не всегда будет возвращен Пользователь.
```go
  func FindUser(id int) *User
```
- При работе с ресурсами вроде файловых дескрипторов или сокетов. Копирование таких переменных может быть связано с исчерпанием системных ресурсов или вообще не производиться.
- При работаете с большими переменными, где на копирование по стеку затрачивается больше ресурсов, чем на сборку мусора от указателей.


---
### Zero-links:
[[00 Backend]] [[00 Golang]]

---
### Links:
[[Разыменование в Go]]