13.06.2024 00:34
Tags: #info

---
# for range

Цикл for range используется для обхода переменных(чаще всего массивов).

С циклом `for — range` связан ещё один важный момент — операнд `range` копируется во временную переменную, которая уже используется для обхода.

```go
var weekTemp = [7]int{5, 4, 6, 8, 11, 9, 5} 

sumTemp := 0

for i, temp := range weekTemp {
    sumTemp += temp
    fmt.Println(temp)//выводит значение
    fmt.Println(i)//выводит индекс
}

average := sumTemp / len(weekTemp)
```


## Ньюансы:

Конструкция `_, temp := range weekTemp` создаёт новую переменную `temp`, тип которой будет определяться типом элемента массива. И если попытаться изменить эту переменную, то значение в массиве не изменится
```go
var weekTemp = [7]int{5, 4, 6, 8, 11, 9, 5} 
// weekTemp [5 4 6 8 11 9 5]
for _, temp := range weekTemp {
   temp = 0 
}
// weekTemp [5 4 6 8 11 9 5] ! — значения не изменились
// если значение элемента не используется, можно опустить вторую переменную
for i := range weekTemp {
   weekTemp[i] = 0 
}
// weekTemp [0 0 0 0 0 0 0] ! — значения изменились
```

Копирование значений может замедлить выполнение программы для массивов, поэтому следует использовать взятие указателя, чтобы не простаивать:
```go
for i, temp := range &weekTemp {
    fmt.Println(i, temp)
}
```

---
### Zero-links:
[[00 Backend]] [[00 Golang]]

---
### Links: